(this["webpackJsonpe-commerce-react"]=this["webpackJsonpe-commerce-react"]||[]).push([[0],{60:function(e,n,t){},86:function(e,n,t){"use strict";t.r(n);var r,a,c,i,s,o,d,l,u=t(1),p=t(29),j=t.n(p),b=t(7),m=t(2),O=(t(60),t(4)),h=t(5),x=t.n(h),f=t(8),v=t(11),g=t.n(v),y=t(15),_=t.n(y),I="ADD_TO_CART",E="REMOVE_FROM_CART",S="REMOVE_ALL",w=function(e,n){return function(){var t=Object(f.a)(x.a.mark((function t(r,a){var c,i,s,o;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.get("/api/products/"+e);case 3:c=t.sent,i=c.data,r({type:I,payload:{productId:i._id,name:i.name,price:i.price,image:i.image,countInStock:i.countInStock,qty:n}}),s=a(),o=s.cart.cartItems,_.a.set("cartItems",JSON.stringify(o)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()},R="ORDER_CREATE_REQUEST",N="ORDER_CREATE_SUCCESS",k="ORDER_CREATE_FAILURE",D="MY_ORDER_LIST_REQUEST",C="MY_ORDER_LIST_SUCCESS",T="MY_ORDER_LIST_FAiLURE",U="ORDER_LIST_REQUEST",A="ORDER_LIST_SUCCESS",L="ORDER_LIST_FAiLURE",P="ORDER_DETAILS_REQUEST",F="ORDER_DETAILS_SUCCESS",M="ORDER_DETAILS_FAILURE",Q="ORDER_DELETE_REQUEST",q="ORDER_DELETE_SUCCESS",z="ORDER_DELETE_FAILURE",B="ORDER_EDIT_REQUEST",J="ORDER_EDIT_SUCCESS",G="ORDER_EDIT_FAILURE",Y="CHANGE_A_ITEM",H="REMOVE_CHANGE_A_ITEM",V=function(){return function(){var e=Object(f.a)(x.a.mark((function e(n,t){var r,a,c,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:U}),r=t(),a=r.userSignIn.userInfo,e.next=5,g.a.get("/api/orders",{headers:{Authorization:"Bearer "+a.token}});case 5:c=e.sent,i=c.data,n({type:A,payload:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),n({type:L,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n,t){return e.apply(this,arguments)}}()},X=t(9),K=t(10),W=K.a.li(r||(r=Object(X.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: baseline;\n  border: 1px solid gray;\n  margin-bottom: 20px;\n  .admin-list__user-info {\n    display: flex;\n    flex-direction: column;\n  }\n"]))),Z=t(0),$=function(e){var n=e.item;return Object(Z.jsxs)(W,{children:[Object(Z.jsxs)("div",{children:[Object(Z.jsx)("h5",{children:"Order Id"}),Object(Z.jsx)(b.b,{to:"/order/"+n._id,children:n._id.slice(-7)})]}),Object(Z.jsxs)("div",{className:"admin-list__user-info",children:[Object(Z.jsx)("h5",{children:"User"}),Object(Z.jsxs)("span",{children:[" Id:",n.user._id.slice(-7)]}),Object(Z.jsxs)("span",{children:["Name: ",n.user.name]}),Object(Z.jsxs)("span",{children:["Email: ",n.user.email]})]}),Object(Z.jsxs)("div",{children:[Object(Z.jsx)("h5",{children:"Order info"}),Object(Z.jsx)("p",{children:n.isDelivered?"Delivered":"On its way"}),Object(Z.jsxs)("p",{children:["Total price: ",n.totalPrice,".00 \xa3"]})]})]})},ee=function(){var e=Object(m.b)(),n=Object(m.c)((function(e){return e.allOrders.allOrders}));return Object(u.useEffect)((function(){e(V())}),[]),Object(Z.jsxs)("div",{className:"container",children:[(null===n||void 0===n?void 0:n.length)<=0&&Object(Z.jsx)("p",{children:"No Orders"}),Object(Z.jsx)("ul",{children:(null===n||void 0===n?void 0:n.length)>0&&(null===n||void 0===n?void 0:n.map((function(e){return Object(Z.jsx)($,{item:e},e._id)})))})]})},ne=t(19),te=t(20),re=t(12),ae=K.a.li(a||(a=Object(X.a)(["\n  margin-bottom: 15px;\n  border: 1px solid black;\n  padding: 10px;\n  .order-item__descr {\n    display: flex;\n    align-items: center;\n  }\n\n  .order-item__descr p,\n  .order-item__descr span {\n    flex: 2;\n  }\n  .order-item__descr p {\n    margin-left: 20px;\n    @media screen and (min-width: 1280px) {\n      flex: 0.3;\n      margin-left: 150px;\n    }\n  }\n  .order-item__descr span {\n    max-width: 150px;\n  }\n  .order-item__descr button {\n    height: 35px;\n  }\n\n  .order-item__descr form {\n    @media screen and (min-width: 320px) and (max-width: 767px) {\n      margin-right: -50px;\n    }\n  }\n  .order-item__descr form {\n    flex: 0.5;\n  }\n  .order-item__descr form input {\n    max-width: 20%;\n    height: 35px;\n  }\n  .order-item__descr form input:nth-child(1) {\n    //margin-left: -110px;\n    margin-right: 120px;\n    @media screen and (min-width: 320px) and (max-width: 767px) {\n      margin-right: 60px;\n    }\n    @media screen and (min-width: 1280px) {\n      flex: 0.3;\n      margin-right: 200px;\n    }\n  }\n"]))),ce={price:"",qty:null},ie=function(e){var n,t=e.item,r=(e.order,Object(m.b)()),a=Object(m.c)((function(e){return e.userSignIn.userInfo.isAdmin})),c=Object(u.useState)(Object(re.a)(Object(re.a)({},ce),{},{price:t.price,qty:t.qty})),i=Object(ne.a)(c,2),s=i[0],o=i[1],d=function(e){var n=e.target,t=n.name,r=n.value;o(Object(re.a)(Object(re.a)({},s),{},Object(te.a)({},t,r)))};return Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsx)(ae,{children:Object(Z.jsxs)("div",{className:"order-item__descr",children:[Object(Z.jsx)("span",{children:t.name}),a?Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)("p",{children:[" ",null===(n=t.productId)||void 0===n?void 0:n.slice(-7)]}),Object(Z.jsxs)("form",{children:[Object(Z.jsx)("input",{type:"text",name:"price",value:s.price,onChange:d}),Object(Z.jsx)("input",{type:"text",name:"qty",value:s.qty,onChange:d})]}),Object(Z.jsx)("button",{onClick:function(e){var n,a=e.target.dataset.id;r((n=Object(re.a)(Object(re.a)({},t),{},{productId:a,price:s.price,qty:s.qty}),function(){var e=Object(f.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:Y,payload:{productId:n}})}catch(r){console.log(r)}case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()))},"data-id":t.productId,children:"Save"})]}):Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)("img",{src:t.image,alt:"Orders",width:"100px"}),Object(Z.jsxs)("p",{children:["Quantity: ",t.qty]}),Object(Z.jsxs)("p",{children:["Amount: ",t.price,".00 \xa3"]})]})]})})})},se=function(){var e,n,t=Object(O.f)().id,r=Object(O.e)(),a=Object(m.b)(),c=Object(m.c)((function(e){return e.orderDetails.order})),i=Object(m.c)((function(e){return e.orderDelete.success})),s=Object(m.c)((function(e){return e.orderItems})),o=Object(m.c)((function(e){return e.userSignIn.userInfo})),d=Object(u.useState)(null===c||void 0===c?void 0:c.isDelivered),l=Object(ne.a)(d,2),p=l[0],j=l[1];Object(u.useEffect)((function(){j(null===c||void 0===c?void 0:c.isDelivered)}),[null===c||void 0===c?void 0:c.isDelivered]);Object(u.useEffect)((function(){var e;a((e=t,function(){var n=Object(f.a)(x.a.mark((function n(t,r){var a,c,i,s;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:P,payload:e}),a=r(),c=a.userSignIn.userInfo,n.next=5,g.a.get("/api/orders/"+e,{headers:{Authorization:"Bearer "+c.token}});case 5:i=n.sent,s=i.data,t({type:F,payload:s}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),t({type:M,payload:n.t0.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,t){return n.apply(this,arguments)}}()))}),[i]);var b=null===(e=s.orderItems)||void 0===e?void 0:e.reduce((function(e,n){return Number(e)+Number(n.qty)}),0),h=null===(n=s.orderItems)||void 0===n?void 0:n.reduce((function(e,n){return Number(e)+Number(n.price)*Number(n.qty)}),0);return Object(Z.jsxs)("div",{className:"container",children:[Object(Z.jsx)("h3",{className:"admin_details__title ",children:"ORDER INFORMATION"}),Object(Z.jsxs)("div",{className:"admin_details__order-info",children:[Object(Z.jsxs)("span",{className:"admin_details__number",children:["Order Number: ",null===c||void 0===c?void 0:c._id.slice(-7)]}),Object(Z.jsxs)("span",{className:"admin_details__number",children:["Total Price: ",null===c||void 0===c?void 0:c.totalPrice,".00 \xa3"]}),Object(Z.jsxs)("span",{className:"admin_details__number",children:["Total Qty: ",null===c||void 0===c?void 0:c.itemsQty]})]}),(null===o||void 0===o?void 0:o.isAdmin)&&Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)("span",{className:"admin_details__delivery-title",children:"Delivery info:"}),Object(Z.jsxs)("select",{className:"admin_details__delivery-info","data-id":null===c||void 0===c?void 0:c._id,value:p?"Delivered":"On its way",onChange:function(e){var n=e.target.value;j("Delivered"===n)},children:[Object(Z.jsx)("option",{children:"Delivered"}),Object(Z.jsx)("option",{children:"On its way"})]})]}),Object(Z.jsxs)("div",{className:"order-details",children:[(null===o||void 0===o?void 0:o.isAdmin)&&Object(Z.jsxs)("ul",{className:"order-item__title",children:[Object(Z.jsx)("li",{children:"Name"}),Object(Z.jsx)("li",{children:"Product artikel"}),Object(Z.jsx)("li",{children:"Amount"}),Object(Z.jsx)("li",{children:"Quantity"})]}),Object(Z.jsx)("ul",{children:null===c||void 0===c?void 0:c.orderItems.map((function(e){return Object(Z.jsx)(ie,{order:null===c||void 0===c?void 0:c.orderItems,item:e},e.productId)}))}),(null===o||void 0===o?void 0:o.isAdmin)&&Object(Z.jsxs)("div",{className:"order-admin__panel",children:[Object(Z.jsx)("button",{className:"order-admin__button delete",type:"button","data-id":null===c||void 0===c?void 0:c._id,onClick:function(e){var n,t=e.target.dataset.id;a((n=t,function(){var e=Object(f.a)(x.a.mark((function e(t,r){var a,c,i,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Q,payload:n}),a=r(),c=a.userSignIn.userInfo,e.next=5,g.a.delete("/api/orders/"+n,{headers:{Authorization:"Bearer "+c.token}});case 5:i=e.sent,s=i.data,t({type:q,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:z,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n,t){return e.apply(this,arguments)}}()))},children:"Delete Order"}),Object(Z.jsxs)("div",{className:"order-admin__button-descr",children:[Object(Z.jsx)("button",{disabled:(null===c||void 0===c?void 0:c.orderItems)>s.orderItems,className:"order-admin__button edit",type:"button","data-id":null===c||void 0===c?void 0:c._id,onClick:function(e){var n,t,c=e.target.dataset.id;a((n=c,t={orderItems:s.orderItems,isDelivered:p,totalPrice:h,itemsQty:b},function(){var e=Object(f.a)(x.a.mark((function e(r,a){var c,i,s,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:B,payload:n}),c=a(),i=c.userSignIn.userInfo,e.next=5,g.a.put("/api/orders/"+n,t,{headers:{Authorization:"Bearer "+i.token}});case 5:s=e.sent,o=s.data,r({type:J,payload:o}),r(V()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r({type:G,payload:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n,t){return e.apply(this,arguments)}}())),a(function(){var e=Object(f.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n({type:H,payload:{}})}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),r.push("/orders")},children:"Save Changes"}),Object(Z.jsx)("small",{children:"*First you have to save every item in order "})]})]})]})]})},oe=t(21),de=K.a.li(c||(c=Object(X.a)(["\n  display: flex;\n  margin-bottom: 20px;\n  img {\n    margin-right: 20px;\n  }\n  div {\n    display: flex;\n    flex-direction: column;\n  }\n  button {\n    margin-top: 30px;\n    width: 200px;\n    height: 30px;\n    background: transparent;\n    text-transform: uppercase;\n  }\n  select {\n    width: 50px;\n  }\n"]))),le=function(e){var n=e.item,t=Object(m.b)();return Object(Z.jsxs)(de,{children:[Object(Z.jsx)("img",{src:n.image,alt:"cart",width:"150px"}),Object(Z.jsxs)("div",{children:[Object(Z.jsx)("p",{children:n.name}),Object(Z.jsxs)("p",{children:[n.price,".00 \xa3"]}),Object(Z.jsx)("select",{value:n.qty,"data-id":n.productId,onChange:function(e){var n=e.target.value,r=e.target.dataset.id;t(w(r,n))},children:Object(oe.a)(Array(n.countInStock).keys()).map((function(e){return Object(Z.jsx)("option",{value:e,children:e},e)}))}),Object(Z.jsx)("button",{type:"button","data-id":n.productId,onClick:function(e){var n,r=e.target.dataset.id;t((n=r,function(e,t){e({type:E,payload:n});var r=t().cart.cartItems;_.a.set("cartItems",JSON.stringify(r))}))},children:"Delete"})]})]})},ue=function(){var e=Object(m.b)(),n=Object(O.e)(),t=Object(m.c)((function(e){return e.cart.cartItems})),r=Object(m.c)((function(e){return e.userSignIn.userInfo})),a=t.reduce((function(e,n){return Number(e)+Number(n.qty)}),0),c=t.reduce((function(e,n){return Number(e)+Number(n.price)*Number(n.qty)}),0);return Object(Z.jsxs)("div",{className:"cart-page container",children:[Object(Z.jsx)("ul",{className:"cart-page__list",children:t.length>0?t.map((function(e){return Object(Z.jsx)(le,{item:e},e.productId)})):Object(Z.jsx)("p",{children:"Cart is empty"})}),Object(Z.jsxs)("div",{className:"cart-page__summary",children:[Object(Z.jsxs)("h5",{children:["Order Summary",Object(Z.jsxs)("span",{children:["(",a," items)"]})]}),Object(Z.jsxs)("span",{children:["Total: ",c,".00 \xa3"]}),Object(Z.jsx)("button",{type:"submit",disabled:0===t.length,onClick:function(){var i;r?(e((i={orderItems:t,itemsQty:a,totalPrice:c},function(){var e=Object(f.a)(x.a.mark((function e(n,t){var r,a,c,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:R,payload:i}),r=t(),a=r.userSignIn.userInfo,e.next=5,g.a.post("/api/orders",i,{headers:{Authorization:" Bearer "+a.token}});case 5:c=e.sent,s=c.data.data,n({type:N,payload:s}),_.a.set("cartItems",JSON.stringify([])),n((function(e,n){e({type:S});var t=n().cart.cartItems;_.a.set("cartItems",JSON.stringify(t))})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),n({type:k,payload:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n,t){return e.apply(this,arguments)}}())),n.push("/ordersucces")):n.push("/signin")},children:"Make an order"})]})]})},pe=K.a.li(i||(i=Object(X.a)(["\n  width: 30%;\n  margin-right: 15px;\n  margin-bottom: 40px;\n  &:nth-child(3n) {\n    margin-right: 0;\n  }\n  .product-item__name {\n    margin: 10px 0;\n\n    font-weight: 400;\n  }\n  .product-item__name a {\n    text-decoration: none;\n    color: #0c0c0c;\n  }\n  .product-item__price {\n  }\n"]))),je=function(e){var n=e.item;return Object(Z.jsxs)(pe,{children:[Object(Z.jsxs)(b.b,{to:"/product/"+n._id,children:[" ",Object(Z.jsx)("img",{className:"product-item__img",alt:"product",src:n.image})]}),Object(Z.jsx)("h4",{className:"product-item__name",children:Object(Z.jsxs)(b.b,{to:"/product/"+n._id,children:[" ",n.name]})}),Object(Z.jsxs)("span",{className:"product-item__price",children:[n.price,".00 \xa3"]})]})},be="PRODUCTS_LIST_REQUEST",me="PRODUCTS_LIST_SUCCESS",Oe="PRODUCTS_LIST_FAILURE",he="PRODUCT_DETAILS_REQUEST",xe="PRODUCT_DETAILS_SUCCESS",fe="PRODUCT_DETAILS_FAILURE",ve=function(){var e=Object(m.b)(),n=Object(m.c)((function(e){return e.productsList})),t=n.products,r=n.loading,a=n.error;return Object(u.useEffect)((function(){e(function(){var e=Object(f.a)(x.a.mark((function e(n){var t,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:be}),e.next=4,g.a.get("https://e-commerce-react-ika.herokuapp.com/api/products");case 4:t=e.sent,r=t.data,n({type:me,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n({type:Oe,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}())}),[]),Object(Z.jsxs)(Z.Fragment,{children:[r&&Object(Z.jsx)("p",{children:"Loading..."}),a&&Object(Z.jsx)("p",{children:a}),Object(Z.jsx)("div",{className:"container",children:Object(Z.jsx)("ul",{className:"product-list",children:null===t||void 0===t?void 0:t.map((function(e){return Object(Z.jsx)(je,{item:e},e._id)}))})})]})},ge="SIGN_IN_USER_REQUEST",ye="SIGN_IN_USER_SUCCESS",_e=" SIGN_IN_USER_FAILURE",Ie="SIGN_UP_USER_REQUEST",Ee="SIGN_UP_USER_SUCCESS",Se=" SIGN_UP_USER_FAILURE",we="USER_LOGOUT",Re=K.a.div(s||(s=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n\n  input,\n  button {\n    width: 60%;\n    display: block;\n    margin: 0 auto;\n    height: 30px;\n    text-transform: uppercase;\n  }\n  input {\n    margin-bottom: 20px;\n  }\n\n  h3,\n  label,\n  .reg-link {\n    width: 60%;\n    display: block;\n    margin: 0 auto;\n  }\n  label {\n    margin-bottom: 10px;\n    font-size: 12px;\n    text-transform: uppercase;\n  }\n  h3 {\n    margin-bottom: 30px;\n    font-size: 18px;\n    text-transform: uppercase;\n  }\n\n  button {\n    height: 40px;\n    font-size: 16px;\n    background: transparent;\n    margin-bottom: 20px;\n  }\n  button:hover {\n    background: #111;\n    color: #fff;\n  }\n\n  .reg-link a {\n    text-decoration: none;\n  }\n"]))),Ne={email:"",password:""},ke=function(){var e=Object(u.useState)(Object(re.a)({},Ne)),n=Object(ne.a)(e,2),t=n[0],r=n[1],a=Object(m.b)(),c=Object(O.e)(),i=Object(m.c)((function(e){return e.userSignIn})),s=i.loading,o=i.userInfo,d=i.error;Object(u.useEffect)((function(){o&&c.push("/")}),[o,c]);var l=function(e){var n=e.target,a=n.name,c=n.value;r(Object(re.a)(Object(re.a)({},t),{},Object(te.a)({},a,c)))};return Object(Z.jsxs)(Re,{children:[Object(Z.jsx)("h3",{children:"Sign In"}),s&&Object(Z.jsx)("span",{children:"Loading ..."}),d&&Object(Z.jsx)("p",{className:"error",children:d}),Object(Z.jsx)("div",{children:Object(Z.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(function(e){var n=e.email,t=e.password;return function(){var e=Object(f.a)(x.a.mark((function e(r){var a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:ge,payload:{email:n,password:t}}),e.prev=1,e.next=4,g.a.post("/api/users/signin",{email:n,password:t});case 4:a=e.sent,c=a.data,r({type:ye,payload:c}),_.a.set("userInfo",JSON.stringify(c)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r({type:_e,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}()}({email:t.email,password:t.password}))},children:[Object(Z.jsx)("label",{children:" Email"}),Object(Z.jsx)("input",{type:"email",name:"email",id:"email",value:t.email,onChange:l}),Object(Z.jsx)("label",{children:" Password"}),Object(Z.jsx)("input",{type:"password",name:"password",id:"password",value:t.password||"",autoComplete:"on",onChange:l}),Object(Z.jsx)("button",{type:"submit",children:"Sign In"})]})}),Object(Z.jsxs)("div",{className:"reg-link",children:[Object(Z.jsx)("span",{children:"New user?"}),Object(Z.jsx)(b.b,{to:"/register",children:" Create a new account"})]})]})},De=function(){return Object(Z.jsx)("div",{className:"container",children:Object(Z.jsx)(ke,{})})},Ce=K.a.li(o||(o=Object(X.a)(["\ndisplay: flex;\n    background: #f9f7f7;\n    //width: 70%;\n    height: 80px;\n    justify-content: space-around;\n    align-items: center;\n    margin-bottom: 30px;\n}"]))),Te=t(24),Ue=t(25),Ae=function(e){var n=e.item;return Object(Z.jsxs)(Ce,{children:[n.isDelivered?Object(Z.jsx)("p",{children:"Delivered"}):Object(Z.jsx)("p",{children:"On its way"}),Object(Z.jsxs)("div",{children:[Object(Z.jsxs)("p",{children:["ORDER NUMBER: ",n._id.slice(-7)]}),Object(Z.jsxs)("span",{children:["TOTAL: ",n.totalPrice,".00 \xa3"]})]}),Object(Z.jsx)(b.b,{to:"/order/"+n._id,children:Object(Z.jsx)(Te.a,{icon:Ue.a})})]})},Le=function(){var e=Object(m.b)(),n=Object(m.c)((function(e){return e.myOrders.orders}));return Object(u.useEffect)((function(){e(function(){var e=Object(f.a)(x.a.mark((function e(n,t){var r,a,c,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:D}),r=t(),a=r.userSignIn.userInfo,e.next=5,g.a.get("/api/orders/mine",{headers:{Authorization:"Bearer "+a.token}});case 5:c=e.sent,i=c.data,n({type:C,payload:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),n({type:T,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n,t){return e.apply(this,arguments)}}())}),[]),Object(Z.jsxs)("div",{className:"container",children:[(null===n||void 0===n?void 0:n.length)<=0&&Object(Z.jsx)("span",{children:"You have no orders"}),Object(Z.jsx)("ul",{className:"myorder-list",children:null===n||void 0===n?void 0:n.map((function(e){return Object(Z.jsx)(Ae,{item:e},e._id)}))})]})},Pe=function(){var e=Object(O.e)(),n=Object(m.c)((function(e){return e.order.order}));return Object(Z.jsxs)("div",{className:"order-success container",children:[Object(Z.jsx)("h4",{children:"Thanks for your order"}),Object(Z.jsxs)("span",{children:["ORDER NUMBER: ",null===n||void 0===n?void 0:n._id.slice(-7)]}),Object(Z.jsxs)("span",{children:["TOTAL: ",null===n||void 0===n?void 0:n.totalPrice,".00 \xa3"]}),Object(Z.jsx)("button",{type:"button",onClick:function(){e.push("/")},children:"Continue shopping"})]})},Fe=function(){var e=Object(O.f)().id,n=Object(u.useState)(1),t=Object(ne.a)(n,2),r=t[0],a=t[1],c=Object(m.b)(),i=Object(m.c)((function(e){return e.productDetails})),s=i.product,o=i.loading,d=i.error;Object(u.useEffect)((function(){var n;c((n=e,function(){var e=Object(f.a)(x.a.mark((function e(t){var r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:he,payload:n}),e.next=4,g.a.get("/api/products/"+n);case 4:r=e.sent,a=r.data,t({type:xe,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:fe,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()))}),[]);return Object(Z.jsxs)("div",{className:"product-page container",children:[o&&Object(Z.jsx)("p",{children:"Loading..."}),d&&Object(Z.jsx)("p",{children:d}),Object(Z.jsx)("img",{src:null===s||void 0===s?void 0:s.image,alt:"",width:"50%"}),Object(Z.jsxs)("div",{className:"product-page__info",children:[Object(Z.jsx)("h3",{children:null===s||void 0===s?void 0:s.name}),Object(Z.jsxs)("span",{className:"product-page__price",children:[null===s||void 0===s?void 0:s.price,".00 \xa3"]}),Object(Z.jsx)("span",{children:(null===s||void 0===s?void 0:s.countInStock)>0?"In Stock":"Out Of Stock"}),Object(Z.jsx)("p",{children:null===s||void 0===s?void 0:s.description}),(null===s||void 0===s?void 0:s.countInStock)&&Object(Z.jsx)("div",{children:Object(Z.jsx)("select",{value:r,onChange:function(e){a(e.target.value)},children:Object(oe.a)(Array(null===s||void 0===s?void 0:s.countInStock).keys()).map((function(e){return Object(Z.jsx)("option",{value:e,children:e},e)}))})}),(null===s||void 0===s?void 0:s.countInStock)>0&&Object(Z.jsx)("button",{type:"button",onClick:function(){c(w(e,r))},children:"Add to cart"})]})]})},Me=K.a.div(d||(d=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n\n  input,\n  button {\n    width: 60%;\n    display: block;\n    margin: 0 auto;\n    height: 30px;\n    text-transform: uppercase;\n  }\n  input {\n    margin-bottom: 20px;\n  }\n\n  h3,\n  label,\n  .login-link {\n    width: 60%;\n    display: block;\n    margin: 0 auto;\n  }\n  label {\n    margin-bottom: 10px;\n    font-size: 12px;\n    text-transform: uppercase;\n  }\n  h3 {\n    margin-bottom: 30px;\n    font-size: 18px;\n    text-transform: uppercase;\n  }\n\n  button {\n    height: 40px;\n    font-size: 16px;\n    background: transparent;\n    margin-bottom: 20px;\n  }\n  button:hover {\n    background: #111;\n    color: #fff;\n  }\n  .login-link a {\n    text-decoration: none;\n  }\n"]))),Qe={name:"",email:"",password:"",comfirmedPassword:""},qe=function(){var e=Object(u.useState)(Object(re.a)({},Qe)),n=Object(ne.a)(e,2),t=n[0],r=n[1],a=Object(u.useState)(""),c=Object(ne.a)(a,2),i=c[0],s=c[1],o=Object(m.b)(),d=Object(O.e)(),l=Object(m.c)((function(e){return e.userSignUp})),p=l.loading,j=l.userInfo,h=l.error;Object(u.useEffect)((function(){j&&d.push("/signin")}),[j,d]);var v=function(e){var n=e.target,a=n.name,c=n.value;r(Object(re.a)(Object(re.a)({},t),{},Object(te.a)({},a,c)))};return console.log("error",h),Object(Z.jsxs)(Me,{children:[Object(Z.jsx)("h3",{children:"Create a new account"}),p&&Object(Z.jsx)("span",{children:"Loading ..."}),h&&Object(Z.jsx)("p",{className:"error",children:h}),i&&Object(Z.jsx)("p",{className:"error",children:i}),Object(Z.jsx)("div",{children:Object(Z.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.password===t.comfirmedPassword?o(function(e){var n=e.name,t=e.email,r=e.password;return function(){var e=Object(f.a)(x.a.mark((function e(a){var c,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:Ie,payload:{name:n,email:t,password:r}}),e.prev=1,e.next=4,g.a.post("/api/users/register",{name:n,email:t,password:r});case 4:c=e.sent,i=c.data,a({type:Ee,payload:i}),_.a.set("userInfo",JSON.stringify(i)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response),a({type:Se,payload:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}()}({name:t.name,email:t.email,password:t.password})):s("Passwords do not match")},children:[Object(Z.jsx)("label",{children:" Name"}),Object(Z.jsx)("input",{type:"text",name:"name",id:"name",value:t.name,onChange:v}),Object(Z.jsx)("label",{children:" Email"}),Object(Z.jsx)("input",{type:"email",name:"email",id:"email",value:t.email,onChange:v}),Object(Z.jsx)("label",{children:" Password"}),Object(Z.jsx)("input",{type:"password",name:"password",id:"password",value:t.password||"",autoComplete:"on",onChange:v}),Object(Z.jsx)("label",{children:" Comfirm password"}),Object(Z.jsx)("input",{type:"password",name:"comfirmedPassword",id:"comfirmedPassword",value:t.comfirmedPassword||"",autoComplete:"on",onChange:v}),Object(Z.jsx)("button",{type:"submit",children:"Sign Up"})]})}),Object(Z.jsxs)("div",{className:"login-link",children:[Object(Z.jsx)("span",{children:"Has already an account? "}),Object(Z.jsx)(b.b,{to:"/signin",children:"Sign In"})]})]})},ze=function(){return Object(Z.jsx)("div",{className:"container",children:Object(Z.jsx)(qe,{})})},Be=K.a.header(l||(l=Object(X.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 80px;\n\n  .nav-orders,\n  .nav-basket {\n    display: block;\n    margin-left: auto;\n  }\n  a {\n    text-decoration: none;\n    margin-right: 15px;\n    text-transform: uppercase;\n    color: #444242;\n    &:nth-child(1) {\n      font-size: 24px;\n    }\n  }\n  span {\n    margin-right: 15px;\n  }\n  .nav-orders {\n    font-size: 16px;\n  }\n  button {\n    padding: 0;\n    padding-top: 5px;\n    margin-left: 15px;\n    border: none;\n    background: transparent;\n    text-transform: uppercase;\n  }\n  span {\n    margin-left: 5px;\n  }\n  .nav-name {\n    margin: 0;\n  }\n"]))),Je=function(){var e=Object(m.b)(),n=Object(O.e)(),t=Object(m.c)((function(e){return e.userSignIn.userInfo})),r=Object(m.c)((function(e){return e.cart.cartItems}));return Object(Z.jsxs)(Be,{className:"container",children:[Object(Z.jsx)(b.c,{to:"/",children:"YUTNII HOME"}),!(null===t||void 0===t?void 0:t.isAdmin)&&Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)(b.c,{className:"nav-basket",to:"/cart",children:[Object(Z.jsx)(Te.a,{icon:Ue.b}),r.length>0&&Object(Z.jsx)("sup",{children:r.length}),Object(Z.jsx)("span",{children:"BUSKET"})]})}),t&&!(null===t||void 0===t?void 0:t.isAdmin)&&Object(Z.jsx)(b.c,{to:"/myorders",children:"MY ORDERS"}),(null===t||void 0===t?void 0:t.isAdmin)&&Object(Z.jsx)(b.c,{className:"nav-orders",to:"/orders",children:"ORDERS"}),t?Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)("span",{className:"nav-name",children:(null===t||void 0===t?void 0:t.isAdmin)?"Admin":null===t||void 0===t?void 0:t.name}),Object(Z.jsx)("button",{type:"button",onClick:function(){e((function(e){_.a.remove("userInfo"),e({type:we})})),n.push("/signin")},children:"Log Out"})]}):Object(Z.jsxs)(b.c,{to:"/signin",children:[Object(Z.jsx)(Te.a,{icon:Ue.c}),Object(Z.jsx)("span",{children:"Sign In"})]})]})},Ge=function(){return Object(Z.jsxs)("div",{children:[Object(Z.jsx)(Je,{}),Object(Z.jsx)(O.a,{path:"/",exact:!0,component:ve}),Object(Z.jsx)(O.a,{path:"/product/:id",component:Fe}),Object(Z.jsx)(O.a,{path:"/cart",component:ue}),Object(Z.jsx)(O.a,{path:"/signin",component:De}),Object(Z.jsx)(O.a,{path:"/register",component:ze}),Object(Z.jsx)(O.a,{path:"/myorders",component:Le}),Object(Z.jsx)(O.a,{path:"/orders",component:ee}),Object(Z.jsx)(O.a,{path:"/order/:id",component:se}),Object(Z.jsx)(O.a,{path:"/ordersucces",component:Pe})]})},Ye=t(27),He=t(50),Ve={cart:{cartItems:_.a.getJSON("cartItems")||[]},userSignIn:{userInfo:_.a.getJSON("userInfo")||null}},Xe=Object(Ye.b)({productsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case be:return{loading:!0};case me:return{loading:!1,products:n.payload};case Oe:return{loading:!1,error:n.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case he:return{loading:!0};case xe:return{loading:!1,product:n.payload};case fe:return{loading:!1,error:n.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case I:var t=n.payload,r=e.cartItems.find((function(e){return e.productId===t.productId}));return r?{cartItems:e.cartItems.map((function(e){return e.productId===r.productId?t:e}))}:{cartItems:[].concat(Object(oe.a)(e.cartItems),[t])};case E:return{cartItems:e.cartItems.filter((function(e){return e.productId!==n.payload}))};case S:return{cartItems:[]};default:return e}},userSignIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ge:return{loading:!0};case ye:return{loading:!1,userInfo:n.payload};case _e:return{loading:!1,error:n.payload};case we:return{};default:return e}},userSignUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Ie:return{loading:!0};case Ee:return{loading:!1,userInfo:n.payload};case Se:return{loading:!1,error:n.payload};default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case R:return{loading:!0};case N:return{loading:!1,order:n.payload,success:!0};case k:return{loading:!1,error:n.payload};default:return e}},myOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case D:return{loading:!0};case C:return{loading:!1,orders:n.payload};case T:return{loading:!1,error:n.payload};default:return e}},allOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case U:return{loading:!0};case A:return{loading:!1,allOrders:n.payload};case L:return{loading:!1,error:n.payload};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orderItems:[]},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case P:return{loading:!0};case F:return{loading:!1,order:n.payload};case M:return{loading:!1,error:n.payload};default:return e}},orderDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orderDetails:{order:{}}},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Q:return{loading:!0};case q:return{loading:!1,order:n.payload,success:!0};case z:return{loading:!1,error:n.payload};default:return e}},orderItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orderItems:[]},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Y:var t=n.payload.productId,r=e.orderItems.find((function(e){return e.productId===t.productId}));return r?{orderItems:e.orderItems.map((function(e){return e.productId===r.productId?t:e}))}:{orderItems:[].concat(Object(oe.a)(e.orderItems),[t])};case H:return{orderItems:[]};default:return e}}}),Ke=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ye.c,We=Object(Ye.d)(Xe,Ve,Ke(Object(Ye.a)(He.a)));j.a.render(Object(Z.jsx)(m.a,{store:We,children:Object(Z.jsx)(b.a,{children:Object(Z.jsx)(Ge,{})})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.1dae5f0e.chunk.js.map